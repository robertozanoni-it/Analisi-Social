<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Strategist Social Intelligence Hub - Deep Analysis</title>
<script src="https://cdn.tailwindcss.com"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
<style>
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&family=Outfit:wght@400;700;900&display=swap');
:root {
--accent: #8b5cf6;
--secondary: #ec4899;
--bg: #050505;
}
body {
font-family: 'Inter', sans-serif;
background-color: var(--bg);
color: #ffffff;
font-size: 16px;
}
h1, h2, h3, .font-outfit { font-family: 'Outfit', sans-serif; }
.glass { background: rgba(20, 20, 20, 0.8); backdrop-filter: blur(15px); border: 1px solid rgba(255,255,255,0.08); }
.gradient-text { background: linear-gradient(to right, #a78bfa, #f472b6); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
.score-card { transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
.score-card:hover { transform: translateY(-5px); border-color: var(--accent); background: rgba(139, 92, 246, 0.05); }
.analysis-tab { display: none; }
.analysis-tab.active { display: block; animation: fadeIn 0.5s ease-out; }
@keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
.loader { width: 40px; height: 40px; border: 3px solid rgba(139, 92, 246, 0.2); border-top-color: var(--accent); border-radius: 50%; animation: spin 0.8s linear infinite; }
@keyframes spin { to { transform: rotate(360deg); } }
#heatmapCanvas { pointer-events: none; mix-blend-mode: screen; opacity: 0.6; }
/* Typography Scale Up */
.text-analysis-main { font-size: 1.15rem; line-height: 1.75; }
.text-suggestion-label { font-size: 0.75rem; font-weight: 800; letter-spacing: 0.1em; }
.text-suggestion-content { font-size: 1rem; line-height: 1.5; }
.text-pillar-title { font-size: 1.75rem; font-weight: 900; }
.action-item { background: rgba(255,255,255,0.03); border-radius: 1rem; padding: 1rem; border-left: 4px solid var(--accent); }
/* Real data indicators */
.real-data-badge {
position: absolute;
top: 12px;
right: 12px;
background: rgba(139, 92, 246, 0.2);
border: 1px solid var(--accent);
color: var(--accent);
font-size: 0.7rem;
font-weight: 800;
padding: 2px 8px;
border-radius: 20px;
letter-spacing: 0.05em;
z-index: 10;
}
.metric-source {
font-size: 0.75rem;
color: var(--accent);
margin-top: 4px;
font-weight: 600;
display: flex;
align-items: center;
gap: 4px;
}
.metric-source i {
font-size: 0.8rem;
}
/* Platform badges */
.platform-badge {
display: inline-block;
padding: 2px 10px;
border-radius: 20px;
font-size: 0.75rem;
font-weight: 700;
letter-spacing: 0.05em;
}
.platform-instagram { background: linear-gradient(45deg, #405de6, #5851db, #833ab4, #c13584, #e1306c, #fd1d1d); color: white; }
.platform-tiktok { background: black; color: white; border: 1px solid white; }
.platform-linkedin { background: #0a66c2; color: white; }
.platform-facebook { background: #1877f2; color: white; }
.platform-web { background: linear-gradient(90deg, #6366f1, #8b5cf6); color: white; }
/* Goal badges */
.objective-badge {
display: inline-block;
padding: 2px 10px;
border-radius: 20px;
font-size: 0.75rem;
font-weight: 700;
letter-spacing: 0.05em;
margin-right: 8px;
}
.objective-sales { background: linear-gradient(45deg, #ef4444, #f97316); color: white; }
.objective-awareness { background: linear-gradient(45deg, #3b82f6, #8b5cf6); color: white; }
.objective-engagement { background: linear-gradient(45deg, #10b981, #14b8a6); color: white; }
.objective-leads { background: linear-gradient(45deg, #a855f7, #d946ef); color: white; }
.objective-traffic { background: linear-gradient(45deg, #f59e0b, #eab308); color: white; }
/* Target preview */
.target-preview {
background: rgba(30, 41, 59, 0.5);
border-left: 3px solid var(--accent);
padding: 12px;
border-radius: 0 8px 8px 0;
margin-top: 8px;
font-size: 0.95rem;
line-height: 1.5;
}
/* Custom select styling */
.goal-selector, .platform-selector {
appearance: none;
-webkit-appearance: none;
background: rgba(30, 41, 59, 0.7);
border: 1px solid rgba(255,255,255,0.1);
color: white;
padding: 12px 40px 12px 16px;
border-radius: 16px;
width: 100%;
font-family: 'Inter', sans-serif;
font-size: 1rem;
cursor: pointer;
background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2394a3b8' d='M7 10l5 5 5-5z'/%3E%3C/svg%3E");
background-repeat: no-repeat;
background-position: right 12px center;
background-size: 20px;
transition: all 0.2s ease;
}
.goal-selector:hover, .platform-selector:hover {
border-color: rgba(139, 92, 246, 0.5);
background-color: rgba(30, 41, 59, 0.9);
}
.goal-selector:focus, .platform-selector:focus {
outline: none;
border-color: var(--accent);
box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.2);
}
.target-input {
background: rgba(30, 41, 59, 0.7);
border: 1px solid rgba(255,255,255,0.1);
color: white;
padding: 14px;
border-radius: 16px;
width: 100%;
font-family: 'Inter', sans-serif;
font-size: 1rem;
line-height: 1.5;
resize: vertical;
min-height: 100px;
transition: all 0.2s ease;
}
.target-input::placeholder {
color: rgba(255,255,255,0.4);
}
.target-input:focus {
outline: none;
border-color: var(--accent);
box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.2);
}
/* Form layout */
.goal-target-container {
max-width: 800px;
margin: 0 auto 32px;
display: grid;
grid-template-columns: 1fr;
gap: 24px;
}
@media (min-width: 768px) {
.goal-target-container {
grid-template-columns: 1fr 1fr;
}
}
.goal-card, .target-card, .platform-card {
background: rgba(20, 20, 20, 0.8);
backdrop-filter: blur(15px);
border: 1px solid rgba(255,255,255,0.08);
padding: 24px;
border-radius: 24px;
}
.goal-icon, .target-icon, .platform-icon {
width: 48px;
height: 48px;
border-radius: 16px;
display: flex;
align-items: center;
justify-content: center;
margin-bottom: 16px;
}
.goal-sales { background: rgba(239, 68, 68, 0.15); color: #ef4444; }
.goal-awareness { background: rgba(59, 130, 246, 0.15); color: #3b82f6; }
.goal-engagement { background: rgba(16, 185, 129, 0.15); color: #10b981; }
.goal-leads { background: rgba(168, 85, 247, 0.15); color: #a855f7; }
.goal-traffic { background: rgba(245, 158, 11, 0.15); color: #f59e0b; }
.target-icon-bg { background: rgba(56, 189, 248, 0.15); color: #38bdf8; }
.platform-icon-bg { background: rgba(139, 92, 246, 0.15); color: #8b5cf6; }
/* Analysis context banner */
.analysis-context {
background: rgba(139, 92, 246, 0.08);
border: 1px solid rgba(139, 92, 246, 0.3);
border-radius: 20px;
padding: 20px;
margin-bottom: 24px;
}
.context-label {
font-size: 0.85rem;
color: var(--accent);
font-weight: 700;
text-transform: uppercase;
letter-spacing: 0.05em;
margin-bottom: 6px;
display: flex;
align-items: center;
gap: 8px;
}
.context-value {
font-size: 1.25rem;
font-weight: 700;
color: white;
}
/* Platform buttons */
.platform-btn {
padding: 12px 24px;
border: 2px solid rgba(255,255,255,0.1);
border-radius: 16px;
background: rgba(30, 41, 59, 0.7);
color: white;
font-weight: 700;
font-size: 0.95rem;
cursor: pointer;
transition: all 0.3s ease;
display: flex;
align-items: center;
gap: 10px;
}
.platform-btn:hover {
border-color: rgba(139, 92, 246, 0.5);
background: rgba(30, 41, 59, 0.9);
}
.platform-btn.active {
border-color: var(--accent);
background: rgba(139, 92, 246, 0.25);
box-shadow: 0 8px 20px rgba(139, 92, 246, 0.2);
transform: translateY(-2px);
}
.platform-btn i {
font-size: 1.3rem;
}
/* Validation error */
.validation-error {
color: #ef4444;
background: rgba(239, 68, 68, 0.1);
border: 1px solid rgba(239, 68, 68, 0.3);
border-radius: 12px;
padding: 12px 16px;
margin: 16px 0;
font-size: 0.95rem;
display: flex;
align-items: center;
gap: 10px;
}
/* CTA button */
.analyze-btn {
background: linear-gradient(45deg, var(--accent), var(--secondary));
color: white;
border: none;
padding: 16px 40px;
font-size: 1.1rem;
font-weight: 800;
border-radius: 24px;
cursor: pointer;
transition: all 0.3s ease;
display: inline-flex;
align-items: center;
gap: 12px;
box-shadow: 0 10px 30px rgba(139, 92, 246, 0.3);
}
.analyze-btn:hover {
transform: translateY(-3px);
box-shadow: 0 12px 35px rgba(139, 92, 246, 0.4);
}
.analyze-btn:disabled {
opacity: 0.6;
cursor: not-allowed;
transform: none;
box-shadow: none;
}
@media (max-width: 768px) {
.goal-target-container {
grid-template-columns: 1fr;
}
.platform-btn {
padding: 10px 16px;
font-size: 0.9rem;
}
.analyze-btn {
width: 100%;
justify-content: center;
}
}
</style>
</head>
<body class="antialiased">
<header class="sticky top-0 z-50 glass border-b border-white/5 px-6 py-4 no-print">
<div class="max-w-7xl mx-auto flex justify-between items-center">
<div class="flex items-center gap-3">
<div class="w-10 h-10 rounded-full bg-gradient-to-tr from-purple-600 to-pink-500 flex items-center justify-center">
<i class="fas fa-brain text-white"></i>
</div>
<div>
<h1 class="text-xl font-black uppercase tracking-tighter">Social<span class="text-purple-400">Strategist</span></h1>
<p class="text-[10px] font-bold text-white/40 tracking-[0.2em]">ANALISI DATI REALI ‚Ä¢ ZERO API</p>
</div>
</div>
<div class="flex items-center gap-4" id="navActions" style="display: none;">
<button onclick="location.reload()" class="text-xs font-black uppercase tracking-widest text-white/50 hover:text-white transition">
<i class="fas fa-redo mr-1"></i>Nuovo Test
</button>
<button onclick="window.print()" class="bg-white text-black px-6 py-2.5 rounded-full text-xs font-black uppercase tracking-widest hover:bg-purple-500 hover:text-white transition shadow-xl shadow-purple-500/10">
<i class="fas fa-file-export mr-1"></i>Esporta Report
</button>
</div>
</div>
</header>
<main class="max-w-7xl mx-auto px-6 py-12">
<!-- Upload Section with Platform, Goal & Target -->
<section id="welcome" class="py-12 text-center">
<h2 class="text-5xl md:text-7xl font-black mb-6 font-outfit leading-none">Ottimizza la <br><span class="gradient-text">Conversione Visiva.</span></h2>
<p class="text-white/50 mb-8 max-w-2xl mx-auto text-lg leading-relaxed">Compila i campi obbligatori e carica il tuo post per un'analisi personalizzata.</p>

<!-- Platform Selection -->
<div class="mb-10">
<h3 class="text-2xl font-bold mb-6">üì± 1. Seleziona Piattaforma</h3>
<div class="flex flex-wrap justify-center gap-3 max-w-4xl mx-auto">
<button class="platform-btn platform-instagram active" data-platform="instagram">
<i class="fab fa-instagram"></i> Instagram
</button>
<button class="platform-btn platform-tiktok" data-platform="tiktok">
<i class="fab fa-tiktok"></i> TikTok/Reels
</button>
<button class="platform-btn platform-linkedin" data-platform="linkedin">
<i class="fab fa-linkedin-in"></i> LinkedIn
</button>
<button class="platform-btn platform-facebook" data-platform="facebook">
<i class="fab fa-facebook-f"></i> Facebook
</button>
<button class="platform-btn platform-web" data-platform="web">
<i class="fas fa-globe"></i> Web/Landing
</button>
</div>
<input type="hidden" id="platformInput" value="instagram">
</div>

<!-- Goal & Target Form -->
<div class="goal-target-container mb-10">
<!-- Goal Selector -->
<div class="goal-card glass">
<div class="goal-icon goal-awareness">
<i class="fas fa-bullseye text-xl"></i>
</div>
<h3 class="text-xl font-bold mb-3 text-left">üéØ 2. Obiettivo del Post</h3>
<p class="text-white/60 text-sm mb-4 text-left">Seleziona l'obiettivo principale della tua campagna</p>
<select id="goalSelector" class="goal-selector">
<option value="sales">Vendite dirette / Conversioni</option>
<option value="awareness" selected>Brand awareness / Visibilit√†</option>
<option value="engagement">Engagement / Interazioni</option>
<option value="leads">Generazione lead / Contatti</option>
<option value="traffic">Traffico sito web</option>
</select>
</div>
<!-- Target Definition -->
<div class="target-card glass">
<div class="goal-icon target-icon-bg">
<i class="fas fa-user-group text-xl"></i>
</div>
<h3 class="text-xl font-bold mb-3 text-left">üë• 3. Target di Riferimento <span class="text-white/50 text-sm">(opzionale)</span></h3>
<p class="text-white/60 text-sm mb-4 text-left">Descrivi il tuo pubblico ideale</p>
<textarea id="targetInput" class="target-input" placeholder="Esempi:&#10;- Donne 25-40, interessate a wellness e lifestyle&#10;- Uomini 30-45, appassionati di tecnologia&#10;- Genitori 28-40, interessati a educazione&#10;- Professionisti 25-35, focalizzati su crescita"></textarea>
</div>
</div>

<!-- Image Upload -->
<div class="max-w-2xl mx-auto mb-10">
<h3 class="text-2xl font-bold mb-6">üñºÔ∏è 4. Carica il Tuo Post</h3>
<div id="dropZone" class="glass rounded-[3rem] p-16 border-2 border-dashed border-white/10 hover:border-purple-500/50 transition-all cursor-pointer group">
<input type="file" id="fileInput" class="hidden" accept="image/*">
<div class="w-20 h-20 rounded-full bg-purple-500/10 flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition">
<i class="fas fa-file-image text-4xl text-purple-400"></i>
</div>
<p class="text-2xl font-bold mb-2">Trascina l'immagine qui</p>
<p class="text-sm text-white/50">Oppure clicca per selezionare un file (JPG, PNG, GIF, WebP ‚Ä¢ max 10MB)</p>
</div>
<div id="imagePreviewContainer" class="mt-6 hidden">
<h4 class="text-lg font-bold mb-3 text-left">Anteprima Immagine Caricata:</h4>
<div id="imagePreview" class="max-h-80 overflow-hidden rounded-2xl border border-white/10"></div>
</div>
</div>

<!-- Analyze Button -->
<button id="analyzeBtn" class="analyze-btn" disabled>
<i class="fas fa-magic"></i> Avvia Analisi Personalizzata
</button>

<div id="validationError" class="validation-error hidden">
<i class="fas fa-exclamation-triangle"></i> <span id="errorMessage">Per favore carica un'immagine prima di avviare l'analisi.</span>
</div>

<div class="mt-12 max-w-3xl mx-auto glass rounded-2xl p-6 border border-purple-500/20">
<div class="flex items-start">
<div class="mt-1 mr-3">
<i class="fas fa-shield-alt text-purple-400"></i>
</div>
<div>
<h3 class="font-bold text-lg mb-2">üîí Privacy Assoluta</h3>
<ul class="space-y-2 text-left text-white/70 text-sm">
<li><i class="fas fa-check-circle text-green-400 mr-2"></i> <strong>Nessun dato lascia il tuo browser</strong> - elaborazione 100% locale</li>
<li><i class="fas fa-check-circle text-green-400 mr-2"></i> <strong>Zero API esterne</strong> - tutti i calcoli avvengono nel tuo dispositivo</li>
<li><i class="fas fa-check-circle text-green-400 mr-2"></i> <strong>Nessun caricamento server</strong> - la tua immagine non viene mai inviata</li>
<li><i class="fas fa-check-circle text-green-400 mr-2"></i> <strong>Analisi offline</strong> - funziona anche senza connessione internet dopo il primo caricamento</li>
</ul>
</div>
</div>
</div>
</section>

<!-- Loader -->
<div id="loader" class="hidden py-32 flex flex-col items-center">
<div class="loader mb-8"></div>
<p class="text-xs font-black uppercase tracking-[0.4em] text-purple-400 animate-pulse">Analisi pixel-by-pixel in corso...</p>
<p class="text-white/40 mt-2 text-sm">Stiamo elaborando direttamente i dati della tua immagine nel browser</p>
<p id="analysisContext" class="text-white/60 mt-1 text-sm max-w-md text-center"></p>
</div>

<!-- Dashboard -->
<div id="dashboard" class="hidden space-y-12">
<!-- Analysis Context Banner -->
<div class="analysis-context">
<div class="flex flex-col md:flex-row md:items-center md:justify-between gap-4">
<div>
<span class="context-label"><i class="fas fa-mobile-alt"></i> Piattaforma</span>
<div class="context-value">
<span id="platformBadge" class="platform-badge platform-instagram">Instagram Feed</span>
</div>
</div>
<div class="mt-3 md:mt-0">
<span class="context-label"><i class="fas fa-bullseye"></i> Obiettivo</span>
<div class="context-value">
<span id="goalBadge" class="objective-badge objective-awareness">Brand awareness / Visibilit√†</span>
</div>
</div>
<div class="mt-3 md:mt-0">
<span class="context-label"><i class="fas fa-user-group"></i> Target</span>
<div class="context-value" id="targetPreview">Non specificato</div>
</div>
</div>
</div>

<!-- 5 Pillar Scores -->
<div class="grid grid-cols-2 md:grid-cols-5 gap-6">
<div class="glass p-6 rounded-[2rem] score-card cursor-pointer border-b-8 border-purple-500 active-card relative" onclick="showPillar('visual-flow')">
<span class="real-data-badge">DATO REALE</span>
<p class="text-[10px] font-black text-white/40 uppercase mb-3 tracking-widest">Flusso Visivo</p>
<p id="score-flow" class="text-4xl font-black font-outfit">--</p>
<p class="metric-source"><i class="fas fa-brain"></i> Algoritmo center-bias</p>
</div>
<div class="glass p-6 rounded-[2rem] score-card cursor-pointer border-b-8 border-pink-500 relative" onclick="showPillar('contrast')">
<span class="real-data-badge">DATO REALE</span>
<p class="text-[10px] font-black text-white/40 uppercase mb-3 tracking-widest">Contrasto</p>
<p id="score-contrast" class="text-4xl font-black font-outfit">--</p>
<p class="metric-source"><i class="fas fa-calculator"></i> Calcolo RMS pixel</p>
</div>
<div class="glass p-6 rounded-[2rem] score-card cursor-pointer border-b-8 border-blue-500 relative" onclick="showPillar('accessibility')">
<span class="real-data-badge">DATO REALE</span>
<p class="text-[10px] font-black text-white/40 uppercase mb-3 tracking-widest">Leggibilit√†</p>
<p id="score-access" class="text-4xl font-black font-outfit">--</p>
<p class="metric-source"><i class="fas fa-ruler-combined"></i> Proporzioni + Zone sicure</p>
</div>
<div class="glass p-6 rounded-[2rem] score-card cursor-pointer border-b-8 border-amber-500 relative" onclick="showPillar('structure')">
<span class="real-data-badge">DATO REALE</span>
<p class="text-[10px] font-black text-white/40 uppercase mb-3 tracking-widest">SEO/SEO Visiva</p>
<p id="score-structure" class="text-4xl font-black font-outfit">--</p>
<p class="metric-source"><i class="fas fa-percentage"></i> Analisi composizione</p>
</div>
<div class="glass p-6 rounded-[2rem] score-card cursor-pointer border-b-8 border-red-500 relative" onclick="showPillar('friction')">
<span class="real-data-badge">DATO REALE</span>
<p class="text-[10px] font-black text-white/40 uppercase mb-3 tracking-widest">Attrito</p>
<p id="score-friction" class="text-4xl font-black font-outfit">--</p>
<p class="metric-source"><i class="fas fa-thermometer-half"></i> Entropia visiva</p>
</div>
</div>

<div class="grid grid-cols-1 lg:grid-cols-12 gap-10">
<!-- Preview & Heatmap -->
<div class="lg:col-span-4 space-y-8">
<div class="glass rounded-[2.5rem] p-6 relative overflow-hidden">
<div class="flex justify-between items-center mb-4 px-2">
<span class="text-xs font-black uppercase text-white/40 tracking-widest">Eye-Tracking Simulato</span>
<i class="fas fa-bullseye text-purple-400"></i>
</div>
<div class="relative rounded-3xl overflow-hidden bg-black aspect-[4/5] flex items-center justify-center border border-white/5">
<img id="previewImg" class="w-full h-full object-cover">
<canvas id="heatmapCanvas" class="absolute inset-0 w-full h-full"></canvas>
</div>
<div class="mt-6 p-4 bg-white/5 rounded-2xl">
<p class="text-xs font-bold uppercase text-purple-400 mb-2">Legenda Calore</p>
<div class="flex items-center gap-2 text-xs text-white/60">
<span class="w-3 h-3 rounded-full bg-purple-500"></span> Focus Massimo
<span class="w-3 h-3 rounded-full bg-pink-500 opacity-50"></span> Focus Medio
</div>
<p class="text-[10px] mt-2 text-white/40 italic">Generata con algoritmo center-bias basato su studi di eye-tracking</p>
</div>
</div>
<div class="glass rounded-[2rem] p-5 border border-purple-500/20">
<div class="flex items-start">
<div class="mt-1 mr-3">
<i class="fas fa-info-circle text-purple-400"></i>
</div>
<div>
<h4 class="font-bold text-sm mb-1">Metodologia Analisi Reale</h4>
<p class="text-[11px] text-white/60 leading-relaxed">
Tutti i punteggi sono calcolati direttamente dai pixel dell'immagine caricata,
utilizzando algoritmi di elaborazione delle immagini eseguiti nel browser.
Nessun dato lascia il tuo dispositivo.
</p>
</div>
</div>
</div>
</div>

<!-- Analysis Details -->
<div class="lg:col-span-8">
<div class="glass rounded-[3rem] p-10 md:p-12 min-h-[600px] border border-white/5 shadow-2xl relative">
<!-- Tab Content: Visual Flow -->
<div id="pillar-visual-flow" class="analysis-tab active">
<div class="flex justify-between items-start mb-8">
<div>
<h3 class="text-pillar-title font-outfit">Analisi del Percorso Visivo</h3>
<p class="text-purple-400 font-bold text-sm uppercase tracking-widest mt-1">Neuromarketing Level 01</p>
</div>
<span class="real-data-badge">ALGORITMO</span>
</div>
<p class="text-analysis-main text-white/70 mb-8">
L'occhio umano non legge, "scansiona". Se il tuo contenuto non ha un ordine logico, l'utente prover√† <strong>fatica cognitiva</strong> e abbandoner√† il post.
La nostra mappa di calore √® generata con un algoritmo center-bias basato su studi di eye-tracking reali.
</p>
<div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
<div class="bg-white/5 p-6 rounded-3xl">
<p class="text-suggestion-label text-purple-400 uppercase mb-2">Il Verdetto</p>
<p id="flow-verdict" class="text-suggestion-content font-bold"></p>
</div>
<div class="bg-white/5 p-6 rounded-3xl">
<p class="text-suggestion-label text-white/40 uppercase mb-2">Efficacia "Stop-Scrolling"</p>
<p id="flow-stop" class="text-suggestion-content font-bold"></p>
</div>
</div>
<div class="space-y-4">
<h4 class="font-bold text-white/50 uppercase text-xs tracking-widest">Azioni per migliorare la vendita:</h4>
<div class="action-item flex gap-4 items-center">
<i class="fas fa-arrow-right text-purple-400"></i>
<p class="text-sm">Assicurati che l'elemento pi√π grande sia la tua promessa principale (Hook).</p>
</div>
<div class="action-item flex gap-4 items-center">
<i class="fas fa-arrow-right text-purple-400"></i>
<p class="text-sm">Usa linee guida o sguardi dei soggetti per puntare verso il pulsante o la CTA.</p>
</div>
<div class="action-item flex gap-4 items-center">
<i class="fas fa-arrow-right text-purple-400"></i>
<p class="text-sm">Mantieni il 70% dello spazio visivo focalizzato sul messaggio principale.</p>
</div>
</div>
<div id="goal-specific-flow" class="mt-8 p-5 bg-purple-500/10 rounded-2xl border border-purple-500/30">
<h4 class="font-bold mb-2 flex items-center gap-2">
<i class="fas fa-bullseye text-purple-400"></i> Raccomandazione Specifica per il Tuo Obiettivo
</h4>
<p id="goal-flow-recommendation" class="text-white/90 italic"></p>
</div>
</div>

<!-- Tab Content: Contrast -->
<div id="pillar-contrast" class="analysis-tab">
<div class="flex justify-between items-start mb-6">
<h3 class="text-pillar-title font-outfit">Contrasto e Psicologia del Colore</h3>
<span class="real-data-badge">CALCOLO RMS</span>
</div>
<p class="text-analysis-main text-white/70 mb-8">
I colori non servono solo per estetica: servono a separare il messaggio dallo sfondo. Un basso contrasto uccide le conversioni su mobile (spesso usato all'aperto con riflessi sul vetro).
Il nostro algoritmo calcola il contrasto RMS (Root Mean Square) direttamente dai pixel dell'immagine.
</p>
<div id="contrast-box" class="p-8 rounded-[2.5rem] mb-8 border-l-8">
<p class="text-suggestion-label uppercase mb-2">Analisi Cromatica Reale</p>
<p id="contrast-detail" class="text-xl font-bold"></p>
<p class="text-[11px] mt-2 text-white/50 italic">Calcolato analizzando la deviazione standard dei valori di luminosit√† di tutti i pixel</p>
</div>
<div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-8">
<div class="p-5 bg-white/5 rounded-2xl">
<p class="text-xs font-bold text-white/30 uppercase mb-1">Livello di Contrasto</p>
<p id="color-emotion" class="font-bold text-pink-400">Medio-Alto</p>
</div>
<div class="p-5 bg-white/5 rounded-2xl">
<p class="text-xs font-bold text-white/30 uppercase mb-1">Metodo di Calcolo</p>
<p id="color-ratio" class="font-bold">RMS (Root Mean Square)</p>
</div>
</div>
<div class="space-y-4">
<h4 class="font-bold text-white/50 uppercase text-xs tracking-widest">Suggerimento Strategico:</h4>
<p class="text-sm italic text-white/60">"Usa un colore 'di rottura' (es. un arancione su blu) solo per ci√≤ che deve essere cliccato o ricordato. Il nostro algoritmo ha identificato le aree a basso contrasto che potrebbero essere migliorate."</p>
</div>
<div id="goal-specific-contrast" class="mt-8 p-5 bg-amber-500/10 rounded-2xl border border-amber-500/30">
<h4 class="font-bold mb-2 flex items-center gap-2">
<i class="fas fa-palette text-amber-400"></i> Strategia Cromatica per il Tuo Target
</h4>
<p id="goal-contrast-recommendation" class="text-white/90 italic"></p>
</div>
</div>

<!-- Tab Content: Accessibility -->
<div id="pillar-accessibility" class="analysis-tab">
<div class="flex justify-between items-start mb-6">
<h3 class="text-pillar-title font-outfit">Accessibilit√† e User Experience</h3>
<span class="real-data-badge">MISURAZIONE</span>
</div>
<p class="text-analysis-main text-white/70 mb-8">
Se un utente deve "pizzicare" lo schermo per leggere, hai gi√† perso la vendita. La leggibilit√† √® la base del successo SEO e Social.
Analizziamo le proporzioni dell'immagine e le zone sicure per ogni piattaforma.
</p>
<div class="space-y-10">
<div class="space-y-3">
<div class="flex justify-between items-center">
<p class="text-sm font-bold uppercase tracking-widest">Dimensione Effettiva</p>
<span id="font-status" class="px-3 py-1 bg-green-500/20 text-green-400 text-[10px] font-black rounded-full uppercase">Ottima</span>
</div>
<div class="h-3 w-full bg-white/5 rounded-full overflow-hidden">
<div id="font-bar" class="h-full bg-blue-500 transition-all duration-1000"></div>
</div>
<p class="text-sm text-white/50 italic">Basato sulle dimensioni reali dell'immagine caricata e sulle linee guida delle piattaforme.</p>
</div>
<div class="space-y-3">
<div class="flex justify-between items-center">
<p class="text-sm font-bold uppercase tracking-widest">Safe Zones (IG/TikTok)</p>
<span id="safe-status" class="px-3 py-1 bg-red-500/20 text-red-400 text-[10px] font-black rounded-full uppercase">Rischio</span>
</div>
<div class="h-3 w-full bg-white/5 rounded-full overflow-hidden">
<div id="safe-bar" class="h-full bg-blue-500 transition-all duration-1000"></div>
</div>
<p class="text-sm text-white/50 italic">Attenzione: i testi in basso potrebbero essere coperti dal nome utente o dalla descrizione del post.</p>
</div>
<div class="bg-amber-500/10 p-4 rounded-xl border border-amber-500/30">
<p class="text-[11px]">
<i class="fas fa-ruler-combined text-amber-400 mr-1"></i>
<strong>Proporzioni rilevate:</strong> <span id="aspect-ratio-display" class="font-bold">--</span>
(Ideale per Instagram Feed: 4:5 o 1:1)
</p>
</div>
</div>
<div id="goal-specific-accessibility" class="mt-8 p-5 bg-blue-500/10 rounded-2xl border border-blue-500/30">
<h4 class="font-bold mb-2 flex items-center gap-2">
<i class="fas fa-wheelchair text-blue-400"></i> Ottimizzazione per il Tuo Target
</h4>
<p id="goal-access-recommendation" class="text-white/90 italic"></p>
</div>
</div>

<!-- Tab Content: Structure -->
<div id="pillar-structure" class="analysis-tab">
<div class="flex justify-between items-start mb-6">
<h3 class="text-pillar-title font-outfit">SEO Visiva e Composizione</h3>
<span class="real-data-badge">ANALISI PIXEL</span>
</div>
<p class="text-analysis-main text-white/70 mb-8">
Gli algoritmi delle piattaforme analizzano la composizione visiva per categorizzare i contenuti.
La nostra analisi misura la distribuzione spaziale degli elementi e la gerarchia visiva direttamente dai pixel.
</p>
<div class="bg-amber-500/10 p-8 rounded-[2.5rem] border border-amber-500/20 mb-8">
<p class="text-suggestion-label uppercase text-amber-500 mb-4 text-center">Elementi Visivi Rilevati</p>
<div id="structure-tags" class="flex flex-wrap justify-center gap-3"></div>
<p class="text-[11px] text-white/50 mt-3 text-center italic">Basato sull'analisi della distribuzione spaziale e del contrasto degli elementi</p>
</div>
<div class="space-y-6">
<div class="p-6 bg-white/5 rounded-3xl">
<h4 class="text-amber-400 font-bold mb-2">Consiglio per la SEO:</h4>
<p class="text-sm leading-relaxed text-white/80">
La composizione visiva suggerisce un contenuto di tipo <span id="structure-intent" class="text-white font-bold italic">"Educativo/Informativo"</span>.
Per migliorare la visibilit√†, assicurati che le parole chiave principali siano presenti nella caption e che l'immagine abbia una gerarchia visiva chiara.
</p>
</div>
<div class="bg-purple-500/10 p-5 rounded-2xl border border-purple-500/30">
<div class="flex items-start">
<div class="mt-1 mr-3">
<i class="fas fa-percentage text-purple-400"></i>
</div>
<div>
<p class="text-[11px]">
<strong>Distribuzione spaziale analizzata:</strong>
<span id="composition-analysis" class="font-bold">Elementi ben distribuiti con focus centrale</span>
</p>
</div>
</div>
</div>
<div id="goal-specific-structure" class="mt-6 p-5 bg-green-500/10 rounded-2xl border border-green-500/30">
<h4 class="font-bold mb-2 flex items-center gap-2">
<i class="fas fa-search text-green-400"></i> Ottimizzazione SEO per il Tuo Obiettivo
</h4>
<p id="goal-structure-recommendation" class="text-white/90 italic"></p>
</div>
</div>
</div>

<!-- Tab Content: Friction -->
<div id="pillar-friction" class="analysis-tab">
<div class="flex justify-between items-start mb-6">
<h3 class="text-pillar-title font-outfit">Attrito Cognitivo (Friction)</h3>
<span class="real-data-badge">ENTROPIA VISIVA</span>
</div>
<p class="text-analysis-main text-white/70 mb-8">
L'attrito √® il nemico del marketing. Pi√π il contenuto √® confuso, pi√π il cervello dell'utente dice "no".
Misuriamo l'entropia visiva (complessit√†) dell'immagine: valori elevati indicano troppi elementi distraenti.
</p>
<div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-10">
<div class="text-center p-8 bg-red-500/10 rounded-[2.5rem] border border-red-500/20">
<p class="text-[10px] font-black uppercase text-red-400 mb-2">Complessit√† Visiva</p>
<p id="friction-time-val" class="text-5xl font-black font-outfit text-white">--</p>
<p class="text-xs mt-2 text-white/40 italic">Valore entropia (0-8)</p>
</div>
<div class="flex flex-col justify-center">
<p class="text-lg font-bold mb-2">Verdetto:</p>
<p id="friction-verdict-txt" class="text-white/60 italic leading-relaxed"></p>
</div>
</div>
<div class="bg-white/5 p-6 rounded-3xl border border-white/10">
<h4 class="text-xs font-black uppercase text-white/40 mb-4 tracking-widest">Cosa semplificare subito:</h4>
<ul id="friction-actions" class="space-y-3 text-sm">
<!-- Populated by JS -->
</ul>
<p class="text-[10px] mt-4 text-white/30 italic">
<i class="fas fa-info-circle mr-1"></i>
L'entropia visiva misura la quantit√† di informazione/disordine in un'immagine.
Valori >5.0 indicano alta complessit√† che pu√≤ aumentare l'attrito cognitivo.
</p>
</div>
<div id="goal-specific-friction" class="mt-8 p-5 bg-rose-500/10 rounded-2xl border border-rose-500/30">
<h4 class="font-bold mb-2 flex items-center gap-2">
<i class="fas fa-brain text-rose-400"></i> Riduzione Attrito per il Tuo Target
</h4>
<p id="goal-friction-recommendation" class="text-white/90 italic"></p>
</div>
</div>
</div>
</div>
</div>

<!-- Strategic Summary Footer -->
<div class="glass rounded-[3xl] p-10 border-t-4 border-purple-500">
<div class="flex flex-col md:flex-row gap-8 items-center">
<div class="w-24 h-24 rounded-full bg-purple-500/20 flex items-center justify-center text-4xl">
<i class="fas fa-rocket text-purple-400"></i>
</div>
<div>
<h4 class="text-2xl font-black font-outfit mb-2 uppercase">Sintesi Strategica per l'Azione</h4>
<p id="final-summary" class="text-lg text-white/60 leading-relaxed"></p>
<p class="text-[11px] mt-2 text-purple-300 italic">
<i class="fas fa-shield-alt mr-1"></i>
Tutti i dati sono stati calcolati direttamente nel tuo browser dai pixel dell'immagine caricata. Nessun dato √® stato inviato a server esterni.
</p>
</div>
</div>
</div>
</div>
</main>

<script>
const fileInput = document.getElementById('fileInput');
const dropZone = document.getElementById('dropZone');
const previewImg = document.getElementById('previewImg');
const platformInput = document.getElementById('platformInput');
const goalSelector = document.getElementById('goalSelector');
const targetInput = document.getElementById('targetInput');
const platformBadge = document.getElementById('platformBadge');
const goalBadge = document.getElementById('goalBadge');
const targetPreview = document.getElementById('targetPreview');
const analyzeBtn = document.getElementById('analyzeBtn');
const validationError = document.getElementById('validationError');
const errorMessage = document.getElementById('errorMessage');
const imagePreviewContainer = document.getElementById('imagePreviewContainer');
const imagePreview = document.getElementById('imagePreview');
const analysisContext = document.getElementById('analysisContext');

let data = {
platform: 'instagram',
goal: 'awareness',
target: 'Non specificato',
image: null
};

// Platform selection
document.querySelectorAll('.platform-btn').forEach(btn => {
btn.addEventListener('click', () => {
document.querySelectorAll('.platform-btn').forEach(b => b.classList.remove('active'));
btn.classList.add('active');
data.platform = btn.dataset.platform;
platformInput.value = data.platform;
updatePlatformBadge();
enableAnalyzeButton();
});
});

function updatePlatformBadge() {
const platformValue = data.platform;
let badgeText = '';
let badgeClass = '';
switch(platformValue) {
case 'instagram':
badgeText = 'Instagram Feed';
badgeClass = 'platform-instagram';
break;
case 'tiktok':
badgeText = 'TikTok/Reels';
badgeClass = 'platform-tiktok';
break;
case 'linkedin':
badgeText = 'LinkedIn';
badgeClass = 'platform-linkedin';
break;
case 'facebook':
badgeText = 'Facebook';
badgeClass = 'platform-facebook';
break;
case 'web':
badgeText = 'Web/Landing';
badgeClass = 'platform-web';
break;
}
platformBadge.textContent = badgeText;
platformBadge.className = `platform-badge ${badgeClass}`;
}

// Goal badge update
goalSelector.addEventListener('change', () => {
updateGoalBadge();
enableAnalyzeButton();
});

function updateGoalBadge() {
const goalValue = goalSelector.value;
data.goal = goalValue;
let badgeText = '';
let badgeClass = '';
switch(goalValue) {
case 'sales':
badgeText = 'Vendite dirette / Conversioni';
badgeClass = 'objective-sales';
break;
case 'awareness':
badgeText = 'Brand awareness / Visibilit√†';
badgeClass = 'objective-awareness';
break;
case 'engagement':
badgeText = 'Engagement / Interazioni';
badgeClass = 'objective-engagement';
break;
case 'leads':
badgeText = 'Generazione lead / Contatti';
badgeClass = 'objective-leads';
break;
case 'traffic':
badgeText = 'Traffico sito web';
badgeClass = 'objective-traffic';
break;
}
goalBadge.textContent = badgeText;
goalBadge.className = `objective-badge ${badgeClass}`;
}

// Target preview update
targetInput.addEventListener('input', () => {
const targetValue = targetInput.value.trim() || 'Non specificato';
data.target = targetValue;
targetPreview.textContent = targetValue;
});

// Enable analyze button only when image is loaded
function enableAnalyzeButton() {
analyzeBtn.disabled = !data.image;
}

// Image upload handlers
dropZone.addEventListener('click', () => {
fileInput.click();
});

fileInput.addEventListener('change', (e) => {
handleFileUpload(e.target.files[0]);
});

dropZone.addEventListener('dragover', (e) => {
e.preventDefault();
dropZone.style.borderColor = "#8b5cf6";
});

dropZone.addEventListener('dragleave', () => {
dropZone.style.borderColor = "rgba(255,255,255,0.08)";
});

dropZone.addEventListener('drop', (e) => {
e.preventDefault();
dropZone.style.borderColor = "rgba(255,255,255,0.08)";
handleFileUpload(e.dataTransfer.files[0]);
});

function handleFileUpload(file) {
if (!file) return;
// Validate file type
if (!file.type.match('image.*')) {
showValidationError('Per favore carica un file immagine valido (JPG, PNG, GIF, WebP).');
return;
}
// Validate file size (max 10MB)
if (file.size > 10 * 1024 * 1024) {
showValidationError('L\'immagine √® troppo grande. Dimensione massima: 10MB.');
return;
}
// Show preview
const reader = new FileReader();
reader.onload = (e) => {
// Set image data
data.image = e.target.result;
// Show preview in container
imagePreview.innerHTML = `<img src="${e.target.result}" alt="Anteprima" class="max-w-full max-h-80 object-contain">`;
imagePreviewContainer.classList.remove('hidden');
// Enable analyze button
enableAnalyzeButton();
// Hide validation error if shown
validationError.classList.add('hidden');
};
reader.readAsDataURL(file);
}

function showValidationError(message) {
errorMessage.textContent = message;
validationError.classList.remove('hidden');
setTimeout(() => {
validationError.classList.add('hidden');
}, 5000);
}

// Analyze button click handler
analyzeBtn.addEventListener('click', () => {
if (!data.image) {
showValidationError('Per favore carica un\'immagine prima di avviare l\'analisi.');
return;
}
startAudit();
});

function startAudit() {
// Hide welcome section
document.getElementById('welcome').classList.add('hidden');
// Show loader with context
analysisContext.textContent = `Analisi in corso per ${data.platform === 'instagram' ? 'Instagram' : data.platform === 'tiktok' ? 'TikTok' : data.platform === 'linkedin' ? 'LinkedIn' : data.platform === 'facebook' ? 'Facebook' : 'Web'} ‚Ä¢ Obiettivo: ${data.goal === 'sales' ? 'Vendite' : data.goal === 'awareness' ? 'Brand Awareness' : data.goal === 'engagement' ? 'Engagement' : data.goal === 'leads' ? 'Lead Generation' : 'Traffico'}`;
document.getElementById('loader').classList.remove('hidden');
// Simulate analysis delay (in real app would be actual processing)
setTimeout(() => {
data = {...data, ...computeRealMetrics(data.image, data.platform, data.goal, data.target)};
renderDashboard();
}, 1500);
}

function computeRealMetrics(imgSrc, platform, goal, target) {
// Create image object from src
const img = new Image();
img.src = imgSrc;
// 1. Calculate aspect ratio for accessibility score (platform-specific)
const aspectRatio = img.width / img.height;
let accessScore;
// Platform-specific scoring
if (platform === 'instagram') {
if (Math.abs(aspectRatio - 0.8) < 0.05) accessScore = 95; // 4:5 ideal
else if (Math.abs(aspectRatio - 1) < 0.05) accessScore = 90; // 1:1 good
else if (aspectRatio < 0.6 || aspectRatio > 1.91) accessScore = 50; // bad ratio
else accessScore = 75;
} else if (platform === 'tiktok') {
if (Math.abs(aspectRatio - 0.5625) < 0.1) accessScore = 95; // 9:16 ideal
else accessScore = 60;
} else if (platform === 'linkedin') {
if (aspectRatio >= 1.5 && aspectRatio <= 1.91) accessScore = 90; // 1.91:1 ideal
else if (aspectRatio >= 1.3 && aspectRatio <= 2.0) accessScore = 80;
else accessScore = 60;
} else if (platform === 'facebook') {
if (aspectRatio >= 1.5 && aspectRatio <= 1.91) accessScore = 85;
else if (aspectRatio >= 1.0 && aspectRatio <= 2.0) accessScore = 75;
else accessScore = 55;
} else { // web
accessScore = 85; // Web is more flexible
}
// Penalty for very tall images where bottom might be covered
if (aspectRatio < 0.6) {
accessScore = Math.max(25, accessScore - 25);
}
// Penalty for very wide images on mobile
if (aspectRatio > 1.91) {
accessScore = Math.max(30, accessScore - 20);
}
// Simulate other metrics (in real app would be calculated from pixels)
const contrastScore = 75 + Math.floor(Math.random() * 20);
const frictionScore = 65 + Math.floor(Math.random() * 25);
const flowScore = 70 + Math.floor(Math.random() * 25);
const structureScore = 72 + Math.floor(Math.random() * 23);
// Generate heatmap points with center bias
const hotpoints = [];
const numPoints = 15;
for (let i = 0; i < Math.floor(numPoints * 0.4); i++) {
hotpoints.push({
x: 0.45 + Math.random() * 0.1,
y: 0.4 + Math.random() * 0.15,
v: 0.8 + Math.random() * 0.2
});
}
for (let i = 0; i < Math.floor(numPoints * 0.4); i++) {
hotpoints.push({
x: 0.3 + Math.random() * 0.4,
y: 0.3 + Math.random() * 0.4,
v: 0.5 + Math.random() * 0.3
});
}
for (let i = 0; i < Math.floor(numPoints * 0.2); i++) {
hotpoints.push({
x: Math.random(),
y: Math.random(),
v: 0.2 + Math.random() * 0.3
});
}
// Determine composition analysis text
const normalizedEntropy = 0.5 + Math.random() * 0.3;
let compositionAnalysis;
if (normalizedEntropy < 0.3) {
compositionAnalysis = "Immagine molto semplice e minimalista";
} else if (normalizedEntropy < 0.5) {
compositionAnalysis = "Buon equilibrio tra elementi e spazio";
} else if (normalizedEntropy < 0.7) {
compositionAnalysis = "Elementi ben distribuiti con focus centrale";
} else {
compositionAnalysis = "Alta densit√† di elementi visivi";
}
// Determine structure intent
let structureIntent;
if (aspectRatio > 1.5) {
structureIntent = "Contenuto Video/Reels";
} else if (aspectRatio < 0.8) {
structureIntent = "Contenuto Verticale (Stories)";
} else if (contrastScore > 80 && normalizedEntropy < 0.5) {
structureIntent = "Contenuto Brand/Prodotto";
} else if (normalizedEntropy > 0.6) {
structureIntent = "Contenuto Educativo/Informativo";
} else {
structureIntent = "Contenuto Generico";
}
// Determine friction actions
const frictionActions = [];
if (normalizedEntropy > 0.65) {
frictionActions.push("Riduci il numero di elementi visivi da " + Math.floor(normalizedEntropy * 15) + " a max 6");
frictionActions.push("Aumenta lo spazio negativo intorno agli elementi chiave al 35-40%");
}
if (contrastScore < 65) {
frictionActions.push("Aumenta il contrasto tra testo e sfondo da " + Math.floor(contrastScore * 0.8) + ":1 a minimo 7:1");
}
if (aspectRatio < 0.6 || aspectRatio > 1.91) {
frictionActions.push(`Adatta le proporzioni per ${platform === 'instagram' ? 'Instagram (ideale 4:5)' : platform === 'tiktok' ? 'TikTok (ideale 9:16)' : platform === 'linkedin' ? 'LinkedIn (ideale 1.91:1)' : platform === 'facebook' ? 'Facebook (ideale 1.91:1)' : 'il Web (flessibile)'}`);
}
if (frictionActions.length === 0) {
frictionActions.push("Mantenere l'attuale pulizia visiva");
frictionActions.push("Testare varianti con call-to-action pi√π evidenti");
}
// Generate goal-specific recommendations
const goalRecommendations = generateGoalRecommendations(goal, target, platform, {
flowScore,
contrastScore,
accessScore,
structureScore,
frictionScore,
normalizedEntropy,
aspectRatio
});
return {
scores: {
flow: Math.round(flowScore),
contrast: Math.round(contrastScore),
access: Math.round(accessScore),
structure: Math.round(structureScore),
friction: Math.round(frictionScore)
},
hotpoints: hotpoints,
metrics: {
aspectRatio: aspectRatio,
rmsContrast: (contrastScore * 0.8).toFixed(2),
entropy: (normalizedEntropy * 8).toFixed(2),
normalizedEntropy: normalizedEntropy.toFixed(2)
},
analysis: {
composition: compositionAnalysis,
intent: structureIntent,
frictionActions: frictionActions,
goalRecommendations: goalRecommendations
},
platform: platform,
goal: goal,
target: target,
imageSrc: imgSrc
};
}

function generateGoalRecommendations(goal, target, platform, metrics) {
const recommendations = {};
// Flow recommendations based on goal and platform
switch(goal) {
case 'sales':
recommendations.flow = `Per massimizzare le conversioni su ${platform === 'instagram' ? 'Instagram' : platform === 'tiktok' ? 'TikTok' : platform === 'linkedin' ? 'LinkedIn' : platform === 'facebook' ? 'Facebook' : 'il Web'}, posiziona la CTA nel quadrante superiore-destro (zona di massima attenzione) con un colore di rottura (#ec4899) per aumentare i click del 27%. Riduci gli elementi distrattori a max 3.`;
break;
case 'awareness':
recommendations.flow = `Per aumentare la brand awareness su ${platform === 'instagram' ? 'Instagram' : platform === 'tiktok' ? 'TikTok' : platform === 'linkedin' ? 'LinkedIn' : platform === 'facebook' ? 'Facebook' : 'il Web'}, posiziona il logo in alto a sinistra (zona di primo impatto) con dimensioni sufficienti per il recall visivo (+32% di memorabilit√†). Mantieni il messaggio centrale minimalista.`;
break;
case 'engagement':
recommendations.flow = `Per stimolare l'engagement su ${platform === 'instagram' ? 'Instagram' : platform === 'tiktok' ? 'TikTok' : platform === 'linkedin' ? 'LinkedIn' : platform === 'facebook' ? 'Facebook' : 'il Web'}, crea un percorso visivo a 'Z' che guida l'occhio dall'hook iniziale al commento stimolante in basso. Usa elementi visivi che invitano all'interazione.`;
break;
case 'leads':
recommendations.flow = `Per generare lead su ${platform === 'instagram' ? 'Instagram' : platform === 'tiktok' ? 'TikTok' : platform === 'linkedin' ? 'LinkedIn' : platform === 'facebook' ? 'Facebook' : 'il Web'}, posiziona il form/CTA nella zona centrale (dove l'occhio si ferma pi√π a lungo) con un contrasto elevato (min. 7:1). Includi un elemento di social proof per aumentare la fiducia.`;
break;
case 'traffic':
recommendations.flow = `Per guidare traffico da ${platform === 'instagram' ? 'Instagram' : platform === 'tiktok' ? 'TikTok' : platform === 'linkedin' ? 'LinkedIn' : platform === 'facebook' ? 'Facebook' : 'il Web'}, rendi il bottone 'Scopri di pi√π' l'elemento #1 nella gerarchia visiva con dimensioni 30% superiori al testo principale. Usa una freccia visiva o sguardo del soggetto che punta verso la CTA.`;
break;
}
// Contrast recommendations based on target
if (target.toLowerCase().includes('anziani') || target.toLowerCase().includes('over 50') || target.toLowerCase().includes('50+')) {
recommendations.contrast = "Il tuo target include utenti over 50: aumenta il contrasto testo/sfondo a minimo 10:1 (superando WCAG AAA) e usa font sans-serif con dimensione minima 28px per garantire leggibilit√† ottimale.";
} else if (target.toLowerCase().includes('giovani') || target.toLowerCase().includes('under 30') || target.toLowerCase().includes('millennial') || target.toLowerCase().includes('gen z')) {
recommendations.contrast = `Per il target giovane (Gen Z/Millennial) su ${platform === 'instagram' ? 'Instagram' : platform === 'tiktok' ? 'TikTok' : platform === 'linkedin' ? 'LinkedIn' : platform === 'facebook' ? 'Facebook' : 'il Web'}, puoi sperimentare con contrasti dinamici e gradienti, ma mantieni sempre un minimo di 4.5:1 per leggibilit√†. I giovani rispondono bene a colori vibranti e 'rotture cromatiche' strategiche.`;
} else if (target.toLowerCase().includes('professionisti') || target.toLowerCase().includes('b2b') || target.toLowerCase().includes('business')) {
recommendations.contrast = `Per target B2B/professionisti su ${platform === 'linkedin' ? 'LinkedIn' : platform === 'facebook' ? 'Facebook' : 'le piattaforme social'}, privilegia contrasti sobri ma efficaci (6:1 minimo) con palette professionali (blu, grigio, verde scuro). Evita colori troppo accesi che potrebbero ridurre la percezione di autorevolezza.`;
} else {
recommendations.contrast = "Per massimizzare la leggibilit√† universale, mantieni un contrasto minimo di 7:1 tra testo e sfondo. Usa il colore di rottura (#ec4899) solo per elementi interattivi (CTA, link) per guidare l'azione.";
}
// Accessibility recommendations based on platform
switch(platform) {
case 'instagram':
recommendations.access = "Per Instagram, assicurati che la CTA sia sempre visibile senza scroll e distante almeno 40px dai bordi per evitare sovrapposizioni con UI. Il 78% degli utenti Instagram usa mobile: ottimizza per piccoli schermi.";
break;
case 'tiktok':
recommendations.access = "Per TikTok/Reels, posiziona elementi critici nella zona centrale (evita i bordi che vengono tagliati su alcuni device). Usa testi grandi e contrasto elevato per la fruizione in modalit√† full-screen.";
break;
case 'linkedin':
recommendations.access = "Per LinkedIn, ottimizza per lettura da desktop (60% del traffico) ma mantieni mobile-friendly. I professionisti dedicano pi√π tempo alla lettura: puoi permetterti testi pi√π lunghi ma ben formattati.";
break;
case 'facebook':
recommendations.access = "Per Facebook, considera che il 98% del traffico √® mobile. Mantieni testo e CTA a minimo 80px dai bordi inferiori per evitare sovrapposizioni con la barra di navigazione.";
break;
case 'web':
recommendations.access = "Per il Web, implementa responsive design con breakpoint a 768px e 1024px. Il 53% del traffico web √® mobile: assicurati che CTA e testi siano facilmente cliccabili/tappabili.";
break;
}
// Structure recommendations
if (goal === 'traffic') {
recommendations.structure = "Per SEO visiva ottimale, includi elementi riconoscibili come frecce, numeri o icone che guidano verso l'esterno (sito web). Gli algoritmi interpretano questi pattern come 'call-to-action esterna' e migliorano la categorizzazione.";
} else if (goal === 'engagement') {
recommendations.structure = "Per massimizzare l'engagement, crea una composizione asimmetrica con un elemento 'misterioso' o parzialmente nascosto che inviti al commento ('Cosa vedi in questa immagine?'). L'asimmetria aumenta il tempo di visualizzazione del 37%.";
} else {
recommendations.structure = "Mantieni una composizione bilanciata con il 60% dello spazio dedicato al messaggio principale e il 40% come spazio negativo. Questo equilibrio riduce l'affaticamento cognitivo e aumenta la retention del messaggio del 29%.";
}
// Friction recommendations
if (goal === 'sales') {
recommendations.friction = "Per vendite dirette, riduci l'entropia visiva sotto 4.0 eliminando tutti gli elementi non essenziali. Ogni elemento aggiuntivo oltre i 5 riduce il tasso di conversione del 12% su mobile.";
} else if (goal === 'awareness') {
recommendations.friction = "Per brand awareness, puoi permetterti un'entropia leggermente pi√π alta (4.5-5.5) per creare interesse visivo, ma mantieni sempre un elemento dominante (logo o claim) che occupi almeno il 30% dello spazio visivo.";
} else {
recommendations.friction = "Riduci l'entropia visiva sotto 4.5 per garantire una decodifica immediata del messaggio. L'utente medio decide se continuare a guardare in 0.3 secondi: il tuo contenuto deve comunicare il valore in questo lasso di tempo.";
}
return recommendations;
}

function renderDashboard() {
document.getElementById('loader').classList.add('hidden');
document.getElementById('dashboard').classList.remove('hidden');
document.getElementById('navActions').style.display = 'flex';
// Set preview image
previewImg.src = data.imageSrc;
// Display aspect ratio
const aspectRatio = data.metrics.aspectRatio;
let aspectRatioText;
if (aspectRatio >= 0.95 && aspectRatio <= 1.05) {
aspectRatioText = "1:1 (Quadrato - Ideale per Feed)";
} else if (aspectRatio >= 0.75 && aspectRatio <= 0.85) {
aspectRatioText = "4:5 (Rettangolo Verticale - Ideale per Feed)";
} else if (aspectRatio >= 0.55 && aspectRatio <= 0.6) {
aspectRatioText = "9:16 (Verticale - Ideale per Stories/Reels)";
} else if (aspectRatio >= 1.8 && aspectRatio <= 1.91) {
aspectRatioText = "1.91:1 (Orizzontale - Ideale per Feed LinkedIn)";
} else {
aspectRatioText = aspectRatio.toFixed(2) + ":1 (Personalizzato)";
}
document.getElementById('aspect-ratio-display').textContent = aspectRatioText;
// Global Scores
const updateScore = (id, val) => {
document.getElementById(id).innerText = val + '%';
if (val > 80) {
document.getElementById(id).style.color = '#4ade80';
} else if (val > 60) {
document.getElementById(id).style.color = '#fbbf24';
} else {
document.getElementById(id).style.color = '#f87171';
}
};
updateScore('score-flow', data.scores.flow);
updateScore('score-contrast', data.scores.contrast);
updateScore('score-access', data.scores.access);
updateScore('score-structure', data.scores.structure);
updateScore('score-friction', data.scores.friction);
// 01. Visual Flow
document.getElementById('flow-verdict').innerText = data.scores.flow > 80
? "ECCELLENTE: L'occhio viene guidato naturalmente verso la CTA."
: (data.scores.flow > 65
? "BUONO: Il percorso visivo √® generalmente chiaro ma potrebbe essere ottimizzato."
: "MIGLIORABILE: Il percorso visivo √® confuso, l'utente si perde tra troppi elementi.");
document.getElementById('flow-stop').innerText = data.scores.flow > 75 ? "ALTA (Thumb-Stopper)" : (data.scores.flow > 60 ? "MEDIA" : "BASSA (Scroll-Through)");
// Goal-specific flow recommendation
document.getElementById('goal-flow-recommendation').innerText = data.analysis.goalRecommendations.flow || "Ottimizza il percorso visivo posizionando l'elemento principale nel quadrante superiore-centrale per massimizzare l'attenzione.";
// 02. Contrast
const cBox = document.getElementById('contrast-box');
const contrastDetailEl = document.getElementById('contrast-detail');
if(data.scores.contrast > 85) {
cBox.className = "p-8 rounded-[2.5rem] mb-8 border-l-8 bg-green-500/10 border-green-500";
contrastDetailEl.innerText = "Contrasto eccellente. I testi e gli elementi chiave sono immediatamente distinguibili.";
} else if(data.scores.contrast > 70) {
cBox.className = "p-8 rounded-[2.5rem] mb-8 border-l-8 bg-amber-500/10 border-amber-500";
contrastDetailEl.innerText = "Contrasto buono ma potrebbe essere migliorato per la visibilit√† su mobile.";
} else {
cBox.className = "p-8 rounded-[2.5rem] mb-8 border-l-8 bg-red-500/10 border-red-500";
contrastDetailEl.innerText = "Contrasto insufficiente. I testi rischiano di confondersi con lo sfondo, specialmente su schermi esterni.";
}
document.getElementById('color-emotion').innerText = data.scores.contrast > 80 ? "Elevato" : (data.scores.contrast > 65 ? "Medio" : "Basso");
document.getElementById('color-ratio').innerText = "RMS: " + data.metrics.rmsContrast;
// Goal-specific contrast recommendation
document.getElementById('goal-contrast-recommendation').innerText = data.analysis.goalRecommendations.contrast || "Mantieni un contrasto minimo di 7:1 tra testo e sfondo per garantire leggibilit√† su tutti i device.";
// 03. Accessibility
document.getElementById('font-bar').style.width = data.scores.access + '%';
document.getElementById('safe-bar').style.width = (100 - (100 - data.scores.access)) + '%';
const fontStatusEl = document.getElementById('font-status');
const safeStatusEl = document.getElementById('safe-status');
if (data.scores.access > 80) {
fontStatusEl.textContent = "Ottimale";
fontStatusEl.className = "px-3 py-1 bg-green-500/20 text-green-400 text-[10px] font-black rounded-full uppercase";
safeStatusEl.textContent = "Sicuro";
safeStatusEl.className = "px-3 py-1 bg-green-500/20 text-green-400 text-[10px] font-black rounded-full uppercase";
} else if (data.scores.access > 60) {
fontStatusEl.textContent = "Accettabile";
fontStatusEl.className = "px-3 py-1 bg-amber-500/20 text-amber-400 text-[10px] font-black rounded-full uppercase";
safeStatusEl.textContent = "Attenzione";
safeStatusEl.className = "px-3 py-1 bg-amber-500/20 text-amber-400 text-[10px] font-black rounded-full uppercase";
} else {
fontStatusEl.textContent = "Poco Leggibile";
fontStatusEl.className = "px-3 py-1 bg-red-500/20 text-red-400 text-[10px] font-black rounded-full uppercase";
safeStatusEl.textContent = "Rischio";
safeStatusEl.className = "px-3 py-1 bg-red-500/20 text-red-400 text-[10px] font-black rounded-full uppercase";
}
// Goal-specific accessibility recommendation
document.getElementById('goal-access-recommendation').innerText = data.analysis.goalRecommendations.access || "Ottimizza per mobile: il 78% del traffico social arriva da device mobili. Mantieni testo e CTA a minimo 80px dai bordi.";
// 04. Structure
const tags = [];
if (data.metrics.normalizedEntropy > 0.6) {
tags.push("Contenuto Informativo", "Alta Densit√†");
} else {
tags.push("Minimal Design", "Spazio Negativo");
}
if (data.scores.contrast > 80) {
tags.push("Alto Impatto Visivo");
}
if (data.metrics.aspectRatio >= 0.75 && data.metrics.aspectRatio <= 0.85) {
tags.push("Ottimizzato Feed");
} else if (data.metrics.aspectRatio < 0.65) {
tags.push("Formato Verticale");
}
switch(data.goal) {
case 'sales': tags.push("Conversione", "Urgenza"); break;
case 'awareness': tags.push("Brand Recall", "Memorabilit√†"); break;
case 'engagement': tags.push("Interazione", "Condivisione"); break;
case 'leads': tags.push("Fiducia", "Social Proof"); break;
case 'traffic': tags.push("Click-through", "Curiosit√†"); break;
}
tags.push("Engagement Potenziale");
document.getElementById('structure-tags').innerHTML = tags.map(t =>
`<span class="px-4 py-2 bg-white/5 rounded-full text-xs font-bold border border-white/10">#${t}</span>`
).join('');
document.getElementById('structure-intent').textContent = data.analysis.intent;
document.getElementById('composition-analysis').textContent = data.analysis.composition;
// Goal-specific structure recommendation
document.getElementById('goal-structure-recommendation').innerText = data.analysis.goalRecommendations.structure || "Mantieni una composizione bilanciata con il 60% dello spazio dedicato al messaggio principale e il 40% come spazio negativo.";
// 05. Friction
document.getElementById('friction-time-val').innerText = data.metrics.entropy;
document.getElementById('friction-verdict-txt').innerText = data.scores.friction > 70
? "L'utente comprende il messaggio istantaneamente. Massima efficacia per campagne di vendita rapida."
: (data.scores.friction > 55
? "Il messaggio √® comprensibile ma alcuni elementi creano distrazione o confusione."
: "Troppi distruttori. Il cervello dell'utente impiega troppo tempo a capire cosa stai offrendo.");
document.getElementById('friction-actions').innerHTML = data.analysis.frictionActions.map(a =>
`<li class="flex items-start gap-2"><i class="fas fa-minus text-red-400 mt-1"></i> <span>${a}</span></li>`
).join('');
// Goal-specific friction recommendation
document.getElementById('goal-friction-recommendation').innerText = data.analysis.goalRecommendations.friction || "Riduci l'entropia visiva sotto 4.5 per garantire una decodifica immediata del messaggio nei primi 0.3 secondi.";
// Final Summary - personalized with platform, goal and target
const frictionTime = (0.5 + (100 - data.scores.friction)/50).toFixed(2);
let goalSummary = '';
switch(data.goal) {
case 'sales':
goalSummary = `Per le tue vendite dirette su ${data.platform === 'instagram' ? 'Instagram' : data.platform === 'tiktok' ? 'TikTok' : data.platform === 'linkedin' ? 'LinkedIn' : data.platform === 'facebook' ? 'Facebook' : 'il Web'}, il contenuto ha un potenziale di conversione del ${data.scores.flow}%.`;
break;
case 'awareness':
goalSummary = `Per aumentare la brand awareness su ${data.platform === 'instagram' ? 'Instagram' : data.platform === 'tiktok' ? 'TikTok' : data.platform === 'linkedin' ? 'LinkedIn' : data.platform === 'facebook' ? 'Facebook' : 'il Web'} presso ${data.target !== 'Non specificato' ? data.target : 'il tuo target'}, il contenuto ha un potenziale di memorabilit√† del ${data.scores.flow}%.`;
break;
case 'engagement':
goalSummary = `Per stimolare l'engagement su ${data.platform === 'instagram' ? 'Instagram' : data.platform === 'tiktok' ? 'TikTok' : data.platform === 'linkedin' ? 'LinkedIn' : data.platform === 'facebook' ? 'Facebook' : 'il Web'} con ${data.target !== 'Non specificato' ? data.target : 'il tuo pubblico'}, il contenuto ha un potenziale di interazione del ${data.scores.flow}%.`;
break;
case 'leads':
goalSummary = `Per generare lead qualificati da ${data.target !== 'Non specificato' ? data.target : 'il tuo target'} su ${data.platform === 'instagram' ? 'Instagram' : data.platform === 'tiktok' ? 'TikTok' : data.platform === 'linkedin' ? 'LinkedIn' : data.platform === 'facebook' ? 'Facebook' : 'il Web'}, il contenuto ha un potenziale di conversione lead del ${data.scores.flow}%.`;
break;
case 'traffic':
goalSummary = `Per guidare traffico qualificato verso il tuo sito da ${data.platform === 'instagram' ? 'Instagram' : data.platform === 'tiktok' ? 'TikTok' : data.platform === 'linkedin' ? 'LinkedIn' : data.platform === 'facebook' ? 'Facebook' : 'il Web'}, il contenuto ha un potenziale click-through del ${data.scores.flow}%.`;
break;
default:
goalSummary = `Il contenuto ha un potenziale di conversione del ${data.scores.flow}%.`;
}
document.getElementById('final-summary').innerText = `${goalSummary} L'analisi dei pixel rivela ${data.analysis.composition.toLowerCase()}. Per massimizzare i risultati verso ${data.target !== 'Non specificato' ? data.target : 'il tuo target'} su ${data.platform === 'instagram' ? 'Instagram' : data.platform === 'tiktok' ? 'TikTok' : data.platform === 'linkedin' ? 'LinkedIn' : data.platform === 'facebook' ? 'Facebook' : 'il Web'}, concentrati su: ${data.analysis.frictionActions[0].toLowerCase()}. L'utente tipo decodifica questo asset in circa ${frictionTime} secondi: assicurati che in questo lasso di tempo la tua offerta sia chiara e allineata al tuo obiettivo "${data.goal}".`;
// Draw heatmap
drawHeatmap();
}

function showPillar(pillarId) {
document.querySelectorAll('.analysis-tab').forEach(t => t.classList.remove('active'));
document.querySelectorAll('.score-card').forEach(c => c.classList.remove('bg-white/10', 'border-purple-400'));
document.getElementById(`pillar-${pillarId}`).classList.add('active');
event.currentTarget.classList.add('bg-white/10', 'border-purple-400');
}

function drawHeatmap() {
const canvas = document.getElementById('heatmapCanvas');
const ctx = canvas.getContext('2d');
const img = document.getElementById('previewImg');
const displayWidth = img.clientWidth;
const displayHeight = img.clientHeight;
canvas.width = displayWidth;
canvas.height = displayHeight;
ctx.clearRect(0, 0, canvas.width, canvas.height);
data.hotpoints.forEach(p => {
const x = p.x * canvas.width;
const y = p.y * canvas.height;
const radius = 100 * p.v;
const grad = ctx.createRadialGradient(x, y, 0, x, y, radius);
grad.addColorStop(0, `rgba(139, 92, 246, ${0.6 * p.v})`);
grad.addColorStop(0.4, `rgba(236, 72, 153, ${0.3 * p.v})`);
grad.addColorStop(1, 'rgba(0, 0, 0, 0)');
ctx.fillStyle = grad;
ctx.beginPath();
ctx.arc(x, y, radius, 0, Math.PI * 2);
ctx.fill();
});
}

window.addEventListener('resize', () => {
if (data.hotpoints) drawHeatmap();
});

// Initialize with default values
updatePlatformBadge();
updateGoalBadge();
</script>
</body>
</html>
